<!doctype html>
<html>
<head>
  <title>KeyFish</title>
  <!-- HMAC/SHA256 from https://code.google.com/p/crypto-js -->
  <script src="code/hmac-sha256.js"></script>
  <script src="code/password.js"></script>
  <script src="code/helpers.js"></script>
  <script src="code/ui.js"></script>
  <link rel="stylesheet" type="text/css" href="main.css" />
</head>
<body onload="init()">

<div id="main">
<h1><img id="icon" src="icons/keyfish32.png" />KeyFish</h1>

<form name="kf">
  <span class="bar">
  <span class="lb">Site:</span>
    <input name="siteName" type="url" size="40" tabindex=1
           list="sitelist" onchange="uiSiteChanged()" />
    <datalist id="sitelist"></datalist>
  </span>

  <span class="bar">
  <span class="lb">Master key:</span>
    <input name="secretKey" type="password" size="40" tabindex=2 />
  </span>

  <span class="bar">
  <button class="gen" id="go" type="button" onclick="uiComputePassword()"
          accesskey="g" tabindex=3>Generate Password</button></span>

  <span class="bar">
  <span class="lb">Password:</span>
    <input class="pw" name="password" type="text" size="40" value="<site password>" />
  </span>

  <span class="rbar">
  <button class="adv" type="button" tabindex="-1"
          onclick="uiToggleVis()">Advanced</button>
  </span>

  <!-- Advanced controls, not commonly needed -->
  <div id="adv">
  <hr/>

  <div id="user">
  <span class="lb">User:</span>
    <select name="userName" onchange="uiUserChanged()"></select>
  <button class="adv" type="button" tabindex="-1" onclick="uiSaveMaster()">
    Save Master Key</button>
  <button class="adv" type="button" tabindex="-1" onclick="uiClearMaster()">
    Clear Master Key</button>
  </div>

  <div id="ctrl">
  <input class="ck" name="usePunct" type="checkbox"
         tabindex=4 /><span class="lb">Use punctuation</span>
  <span class="rb">Length:</span>
    <input class="len" name="pwLength" type="number"
           value="18" min="4" max="32" tabindex=5 />
    <span class="tag">characters</span>
  </div>

  <span class="bar">
  <span class="lb">Salt:</span>
    <input name="salt" type="text" size="40" tabindex=7 />
  </span>

  <span class="bar">
  <span class="lb">Format:</span>
    <input name="fmt" type="text" size="40" tabindex=6 />
  </span>

  <span class="bar">
  <button id="ssbtn" class="st" type="button" onclick="uiSaveState()"
          title="Save current configuration to local storage">Save Defaults</button>
  <button id="csbtn" class="st" type="button" onclick="uiClearState()"
          title="Remove current configuration from local storage">Clear Defaults</button>
  <button class="st" type="button" onclick="uiClearAllState()"
          title="Remove all saved site configurations">Clear All</button></span>
  </div>

</form>
</div>
</body>
</html>
